{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/package-revealjs","result":{"data":{"markdownRemark":{"id":"e3d9952e-c631-5802-89c5-a482e693c0c0","html":"<p>A while ago I was asked to give a presentation to my teammates at work on React. I’ve always been fascinated by the way most people give presentations at talks which made me research how to do them. The absolute winner was <a href=\"https://revealjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RevealJS</a>. </p>\n<p>A couple of things made me put my mind to it</p>\n<ol>\n<li>The documentation covered all features and aspects </li>\n<li>The framework itself contained multiple comprehensive examples covering all use cases which provided an excellent starting point.</li>\n</ol>\n<p>As mentioned in the documentation the best way to install and use the framework is by cloning the repo using this command\n<code class=\"language-text\">$ git clone https://github.com/hakimel/reveal.js.git</code>\nThe nice thing about cloning the whole repo is that you get a complete examples folders showcasing the features and a demo presentation which I considered RevealJS Holy Grail, I would lie if I didn’t say that my whole presentation styles is copied from the demo presentation.\nRevealJS uses <a href=\"https://gulpjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">gulp</a> for building and developing.\nOne hidden feature I stumbled upon while going through the gulpfile was a task called <code class=\"language-text\">package</code> where you can build and package your presentation and voila it’s ready for publishing. sadly when I tried it out, it didn’t work as expected so I had to make a few changes. The thing is it captures all the framework files and your index.html; which contains your presentation; and creates a packaged zip file ready for publishing. If you try the published version you will find out it’s broken and that’s because all the references inside your index.html don’t point to the correct locations. Hence, you’re left with one of 2 options, either to update all css and js references in the published index, or modify the package task to add files with the correct folder structure, which was what I did. </p>\n<p>The gulp task copied only the internal files/folders without copying the parent folder due to a bug in writing down the folders paths, it was defined as </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">gulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token string\">'package'</span><span class=\"token punctuation\">,</span> gulp<span class=\"token punctuation\">.</span><span class=\"token function\">series</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    gulp<span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token string\">'./index.html'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'./dist/**'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'./plugin/**'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'./**.md'</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">zip</span><span class=\"token punctuation\">(</span><span class=\"token string\">'reveal-js-presentation.zip'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>But since we also wanted the respected dist &#x26; plugin parent folders as well, we need to change the path to be wild card instead of a specific location. So the updated version will be </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">gulp<span class=\"token punctuation\">.</span><span class=\"token function\">task</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"package\"</span><span class=\"token punctuation\">,</span>\n  gulp<span class=\"token punctuation\">.</span><span class=\"token function\">series</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"default\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    gulp\n      <span class=\"token punctuation\">.</span><span class=\"token function\">src</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"index.html\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"*dist/**/*\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"*media/**/*\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"*plugin/**/*\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"*markdown/**/*\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">zip</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"reveal-js-presentation.zip\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>gulp<span class=\"token punctuation\">.</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>I also included a couple more folders where I organized my files.</p>\n<p>Now the last thing to do is to update the package.json file to include a package script by adding the line <code class=\"language-text\">&quot;package&quot;: &quot;gulp package&quot;</code> and run the command <code class=\"language-text\">npm run package</code> after the task is finished you will find a zip file called <code class=\"language-text\">reveal-js-presentation.zip</code> created containing your presentation and ready for publishing anywhere.</p>","fields":{"slug":"/posts/package-revealjs","tagSlugs":["/tag/revealjs/","/tag/talk/","/tag/presentations/"]},"frontmatter":{"date":"2020-09-14T08:04:09.597Z","description":"Notes and lessons learned from creating my first presentation with RevealJS","tags":["revealjs","talk","presentations"],"title":"How to package and publish your RevealJS presentation","socialImage":null}}},"pageContext":{"slug":"/posts/package-revealjs"}},"staticQueryHashes":["251939775","3942705351","401334301"]}